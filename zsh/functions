#! /bin/zsh

function wo(){
  cd ~
  cd Documents/workspace;
}

function dot(){
  cd ~
  cd Documents/workspace/dotfiles;
}

function pymod(){
  touch __init__.py;
}

function mongoon(){
  service mongod start;
}

function mongooff(){
  service mongod stop;
}

function gitignore(){
  cp -f ~/.gitignore ./.gitignore;
}

function search() {
  find . -iname "*$@*" | less;
}

function countLines() {
  wc -l **/*;
}

function fh() {
  eval $( ([ -n "$ZSH_NAME" ] && fc -l 1 || history) | fzf +s --tac | sed 's/ *[0-9]* *//')
}

function fshow() {
  git log --graph --color=always \
      --format="%C(auto)%h%d %s %C(black)%C(bold)%cr" "$@" \
  | fzf --ansi --preview "echo {} \
    | grep -o '[a-f0-9]\{7\}' \
    | head -1 \
    | xargs -I % sh -c 'git show --color=always %'" \
        --bind "enter:execute:
            (grep -o '[a-f0-9]\{7\}' \
                | head -1 \
                | xargs -I % sh -c 'git show --color=always % \
                | less -R') << 'FZF-EOF'
            {}
FZF-EOF"
}