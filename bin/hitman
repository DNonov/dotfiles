#! /bin/sh

# Who's gonna be my next victim?
PROCESS=${1:-"unknown"}
NUM=$(sudo lsof -i -n -P | grep -c "$PROCESS")

if [ "$PROCESS" = "unknown" ];
then
				echo ""
				echo "Hitman: I need a name boss!"
else
	if [ "$NUM" -eq 0 ];
	then
				echo ""
				echo "Hitman: $PROCESS is not around now! I can't whack him boss!"
	else
				# Let me get him!
				PID=$(sudo lsof -i -n -P | 
					grep "$PROCESS" |
					grep -i listen |
					grep -Eo '[0-9]{1,6}' |
					grep -E '[0-9]{1,6}' --max-count=1)

				kill "$PID"
				echo ""
				echo "Hitman: Hey $PROCESS! Say hello to my little friend!"
				echo ""
				echo ""
				cat << "EOT"
		_/﹋\_
		(҂`_´)
		<,︻╦╤─ ҉ - -
		_/﹋\_
EOT
	fi
fi
